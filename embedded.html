<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>サンプル</title>
  </head>
  <body>
    <p>サンプルページです。</p>

    <!-- <input type="button" value="open" id="openbtn" />
    <input type="button" value="close" id="closebtn" /> -->

    <!--  -->

    <!-- <script>
      let newwin;

      let openbutton = document.getElementById("openbtn");
      openbutton.addEventListener("click", () => {
        newwin = open("test.html");
      });

      let closebutton = document.getElementById("closebtn");
      closebutton.addEventListener("click", () => {});
    </script> -->
    <style type="text/css">
      .embeddedServiceHelpButton .helpButton .uiButton {
        background-color: #005290;
        font-family: "Arial", sans-serif;
      }
      .embeddedServiceHelpButton .helpButton .uiButton:focus {
        outline: 1px solid #005290;
      }
    </style>

    <script
      type="text/javascript"
      src="https://service.force.com/embeddedservice/5.0/esw.min.js"
    ></script>
    <script type="text/javascript">
      var initESW = function (gslbBaseURL) {
        embedded_svc.settings.displayHelpButton = true; //または false
        embedded_svc.settings.language = ""; //たとえば、「en」または「en-US」を入力します

        //embedded_svc.settings.defaultMinimizedText = '...'; //(エキスパートとチャットにデフォルト設定)
        //embedded_svc.settings.disabledMinimizedText = '...'; //(エージェントがオフラインにデフォルト設定)

        //embedded_svc.settings.loadingText = ''; //(読み込み中にデフォルト設定)
        //embedded_svc.settings.storageDomain = 'yourdomain.com'; //(リリースのドメインを設定して、訪問者がチャットセッション中にサブドメインを移動できるようにします)

        // チャット の設定
        //embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
        // Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
        // Returns a valid button ID.
        //};
        //embedded_svc.settings.prepopulatedPrechatFields = {}; //事前チャットフォームの項目の自動入力を設定
        //embedded_svc.settings.fallbackRouting = []; //ボタン ID、ユーザ ID、または userId_buttonId の配列
        //embedded_svc.settings.offlineSupportMinimizedText = '...'; //(デフォルトは [お問い合わせ])

        embedded_svc.settings.enabledFeatures = ["LiveAgent"];
        embedded_svc.settings.entryFeature = "LiveAgent";

        embedded_svc.init(
          "https://mypage360--validation.my.salesforce.com",
          "https://validation-web-chat.cs74.force.com/liveAgentSetupFlow",
          gslbBaseURL,
          "00D0p00000017fd",
          "Localhost_Chat_Agents",
          {
            baseLiveAgentContentURL:
              "https://c.la1-c1cs-ukb.salesforceliveagent.com/content",
            deploymentId: "5720p00000000I5",
            buttonId: "5730p00000000VJ",
            baseLiveAgentURL:
              "https://d.la1-c1cs-ukb.salesforceliveagent.com/chat",
            eswLiveAgentDevName: "Localhost_Chat_Agents",
            isOfflineSupportEnabled: false,
          }
        );
      };

      if (!window.embedded_svc) {
        var s = document.createElement("script");
        s.setAttribute(
          "src",
          "https://mypage360--validation.my.salesforce.com/embeddedservice/5.0/esw.min.js"
        );
        s.onload = function () {
          initESW(null);
        };
        document.body.appendChild(s);
      } else {
        initESW("https://service.force.com");
      }
    </script>
  </body>
</html>
